package com.ohgiraffers.chap02.model;

import jakarta.persistence.*;
// * mata-inf í´ë˜ìŠ¤ ë“±ë¡*

/*
 * ê°ì²´ì§€í–¥(OOP)ê³¼ RDBì˜ íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´: ë„¤ì´ë° ë¬¸ì œì™€ JPAì˜ í•´ê²°
 *
 * ì´ `Role` í´ë˜ìŠ¤ëŠ” ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ ê´€ì ì—ì„œ í•˜ë‚˜ì˜ ê¶Œí•œ(Role)ì„ ë‚˜íƒ€ë‚¸ë‹¤.
 * ê°ì²´ì§€í–¥ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‹¨ìˆ˜í˜•ì„ ì‚¬ìš©í•˜ì—¬ ê°œë³„ ê°ì²´ë¥¼ í‘œí˜„í•œë‹¤.
 * ë”°ë¼ì„œ í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œ `Role`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ½ë‹¤.
 *
 * ğŸ“Œ JPAê°€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•:
 * JPA(Java Persistence API)ëŠ” ê°ì²´ì§€í–¥ê³¼ RDB ê°„ì˜ íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë§¤í•‘ ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤.
 * - `@Entity` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ `Role` í´ë˜ìŠ¤ë¥¼ JPA ì—”í‹°í‹°ë¡œ ì •ì˜í•œë‹¤.
 * - `@Table(name = "roles")` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ ê°ì²´ì§€í–¥ì˜ `Role` í´ë˜ìŠ¤ì™€ RDBì˜ `Roles` í…Œì´ë¸”ì„ ëª…ì‹œì ìœ¼ë¡œ ë§¤í•‘í•œë‹¤.
 *   ì´ë¥¼ í†µí•´ ì´ë¦„ ê´€ë¡€ì˜ ì°¨ì´(ë‹¨ìˆ˜í˜• vs ë³µìˆ˜í˜•)ë¥¼ ì¡°ì •í•œë‹¤.
 * - `@Column(name = "role_id")`ì™€ `@Column(name = "role_name")`ì„ ì‚¬ìš©í•´ í•„ë“œ(`roleId`, `roleName`)ì™€ í…Œì´ë¸” ì»¬ëŸ¼(`role_id`, `role_name`) ê°„ì˜ ì´ë¦„ ì°¨ì´ë¥¼ ë§¤í•‘í•œë‹¤.
 * - `@Id`ì™€ `@GeneratedValue`ë¥¼ ì‚¬ìš©í•´ `roleId`ë¥¼ ê¸°ë³¸ í‚¤ë¡œ ì„¤ì •í•˜ê³ , ìë™ ì¦ê°€ ê°’ì„ ê´€ë¦¬í•˜ì—¬ RDBì˜ ê¸°ë³¸ í‚¤ ì œì•½ ì¡°ê±´ì„ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.
 *
 * JPAë¥¼ í†µí•´ ê°ì²´ì§€í–¥ì˜ `Role` í´ë˜ìŠ¤ëŠ” RDBì˜ `Roles` í…Œì´ë¸”ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°ë˜ë©°,
 * ë„¤ì´ë° ì°¨ì´ë¡œ ì¸í•œ í˜¼ë€ ì—†ì´ ê°ì²´ì™€ í…Œì´ë¸” ê°„ì˜ ë§¤í•‘ì„ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
 */
@Entity
@Table(name ="roles")
public class Role {

    /*
     * í•´ë‹µìœ¼ë¡œì„œì˜ JPA - ê°ì²´ì—ê²Œ 'ì‹ ë¶„'ì„ ë¶€ì—¬í•˜ë‹¤
     *
     * ğŸ’¡ @Entityì™€ @Idì˜ ë³¸ì§ˆì  ì˜ë¯¸
     * - `@Entity`: "ì´ í´ë˜ìŠ¤ëŠ” ì´ì œë¶€í„° ë‹¨ìˆœí•œ ë°ì´í„° ë¬¶ìŒ(DTO)ì´ ì•„ë‹ˆë¼, JPAê°€ ê´€ë¦¬í•˜ëŠ” 'ì‹¤ì²´'ì´ë‹¤." ë¼ëŠ” ì„ ì–¸ì´ë‹¤.
     * JPAëŠ” ì´ ê°ì²´ì˜ ìƒì„±, ë³€í™”, ì†Œë©¸(ìƒëª…ì£¼ê¸°)ì„ ëª¨ë‘ ì¶”ì í•˜ê³  ê´€ë¦¬í•˜ê¸° ì‹œì‘í•œë‹¤.
     *
     * - `@Id`: "ì´ í•„ë“œê°€ ë°”ë¡œ ì´ ê°ì²´ì˜ ê³ ìœ í•œ ì‹ ë¶„(Identity)ì„ ì¦ëª…í•˜ëŠ” ì‹ë³„ìì´ë‹¤." ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.
     * JPAëŠ” ì´ `@Id` ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ê°ì²´ì˜ ë™ì¼ì„±ì„ íŒë‹¨í•œë‹¤. ì¦‰, IDê°€ ê°™ìœ¼ë©´ DBì—ì„œ ëª‡ ë²ˆì„ ì¡°íšŒí•˜ë“ 
     * 'ê°™ì€ ì¡´ì¬'ë¡œ ì¸ì‹í•˜ì—¬ ë™ì¼í•œ ë©”ëª¨ë¦¬ ì£¼ì†Œì˜ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.
     *
     * -> ì´ë¥¼ í†µí•´ `chap01`ì—ì„œ ë°œìƒí–ˆë˜ 'ê°™ì€ ë…€ì„ì¸ë° ë‹¤ë¥´ë‹¤ê³  í•˜ëŠ”' ë¬¸ì œê°€ í•´ê²°ëœë‹¤.
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "role_id")
    private int roleId;
    @Column(name = "role_name")
    private String roleName;

    /*
     * ğŸ“Œ ê¸°ë³¸ ìƒì„±ìê°€ í•„ìš”í•œ ì´ìœ :
     * JPAëŠ” ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ "ê¸°ë³¸ ìƒì„±ì"ë¥¼ ë°˜ë“œì‹œ ìš”êµ¬í•œë‹¤.
     * - JPAì˜ ë™ì‘ ë°©ì‹: JPAëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë§¤í•‘í•  ë•Œ, ë¨¼ì € ê¸°ë³¸ ìƒì„±ìë¥¼ í˜¸ì¶œí•´ ê°ì²´ë¥¼ ìƒì„±í•œ í›„,
     *   ë¦¬í”Œë ‰ì…˜(Reflection)ì„ ì‚¬ìš©í•´ í•„ë“œ(`roleId`, `roleName`)ì— ê°’ì„ ì£¼ì…í•œë‹¤.
     * - ê¸°ë³¸ ìƒì„±ì ì—†ìŒ ì‹œ ë¬¸ì œ: ë§Œì•½ ê¸°ë³¸ ìƒì„±ìê°€ ì—†ë‹¤ë©´, JPAëŠ” ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ì–´ `InstantiationException`ì´ ë°œìƒí•œë‹¤.
     * - ì˜ˆ: `em.find(Role.class, 1)`ë¡œ `Role` ê°ì²´ë¥¼ ì¡°íšŒí•  ë•Œ, JPAëŠ” `new Role()`ì„ í˜¸ì¶œí•´ ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•œ í›„,
     *   ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì˜¨ `role_id`ì™€ `role_name` ê°’ì„ í•„ë“œì— ì„¤ì •í•œë‹¤.
     * - ì¶”ê°€ ìƒì„±ì: `public Role(int roleId, String roleName)`ê³¼ ê°™ì€ ìƒì„±ìëŠ” ê°œë°œìê°€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ìœ ìš©í•˜ì§€ë§Œ,
     *   JPAëŠ” ì´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ë°˜ë“œì‹œ ì¸ì ì—†ëŠ” ê¸°ë³¸ ìƒì„±ì(`public Role()`)ê°€ í•„ìš”í•˜ë‹¤.
     * - ì ‘ê·¼ ì œì–´ì: ê¸°ë³¸ ìƒì„±ìëŠ” `public` ë˜ëŠ” `protected`ë¡œ ì„¤ì •í•´ì•¼ JPAê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
    * */
    public Role() {

    }

    public Role(String roleName) {
        this.roleName = roleName;
    }

    public Role(int roleId, String roleName) {
        this.roleId = roleId;
        this.roleName = roleName;
    }


    public int getRoleId() {
        return roleId;
    }

    public void setRoleId(int roleId) {
        this.roleId = roleId;
    }

    public String getRoleName() {
        return roleName;
    }

    public void setRoleName(String roleName) {
        this.roleName = roleName;
    }

    @Override
    public String toString() {
        return "Roles{" +
                "roleId=" + roleId +
                ", roleName='" + roleName + '\'' +
                '}';
    }
}
